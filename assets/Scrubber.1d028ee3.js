import{o as i,c as n,a as o,w as d,v as y,b as u,d as c,e as h,f,T as v,g as m}from"./app.3837ac65.js";import{_ as b}from"./plugin-vue_export-helper.21dcd24c.js";const w=["server","server-events","server-state-changed","trigger-state","poll-state","ha-time","ha-webhook","ha-zone","api-call-service","ha-entity","ha-fire-event","api-current-state","ha-get-entities","api-get-history","api-render-template","ha-wait-until","ha-api"],x={data:function(){return{after:"",before:"",replaceServerId:"",serverId:"",showCopied:!1,showError:!1}},methods:{scrub:function(r){let e;try{e=JSON.parse(this.before)}catch{this.showError=!0,setTimeout(()=>{this.showError=!1},1500);return}this.showError=!1;let s=e.length;for(;s--;){const a=e[s].type;if(a==="server"){e.splice(s,1);continue}w.includes(a)&&(e[s].server=this.replaceServerId?this.serverId:""),["lat","lon","latitude","longitude"].forEach(p=>{e[s][p]&&(e[s][p]="")})}this.after=JSON.stringify(e)},copy:function(){this.$refs.copyme.select(),document.execCommand("copy"),this.showCopied=!0,setTimeout(()=>{this.showCopied=!1},1500)}},mounted(){localStorage.serverId&&(this.serverId=localStorage.serverId)},watch:{serverId(r){localStorage.serverId=r}}},I=m(" Replace Home Assistant server id "),S={key:0},g=m(" with "),C={key:0,class:"popup error"},k={key:0,class:"popup copied"};function N(r,e,s,a,p,l){return i(),n("div",null,[o("p",null,[o("label",null,[d(o("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>r.replaceServerId=t)},null,512),[[y,r.replaceServerId]]),I]),r.replaceServerId?(i(),n("span",S,[g,d(o("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>r.serverId=t),placeholder:"xxxxxxxx.xxxxx"},null,512),[[u,r.serverId]])])):c("",!0)]),d(o("textarea",{"onUpdate:modelValue":e[2]||(e[2]=t=>r.before=t),placeholder:"paste exported Node-RED flow here"},null,512),[[u,r.before]]),o("button",{onClick:e[3]||(e[3]=(...t)=>l.scrub&&l.scrub(...t))},"Scrub"),h(v,{name:"fade"},{default:f(()=>[r.showError?(i(),n("span",C,"Invalid JSON")):c("",!0)]),_:1}),d(o("textarea",{"onUpdate:modelValue":e[4]||(e[4]=t=>r.after=t),ref:"copyme"},null,512),[[u,r.after]]),o("button",{onClick:e[5]||(e[5]=(...t)=>l.copy&&l.copy(...t))},"Copy to Clipboard"),h(v,{name:"fade"},{default:f(()=>[r.showCopied?(i(),n("span",k,"Copied")):c("",!0)]),_:1})])}var T=b(x,[["render",N],["__scopeId","data-v-4e4819e4"]]);export{T as default};
