<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.36">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/favicon.ico"><title>Getting Started | node-red-contrib-home-assistant-websocket</title><meta name="description" content="Node-RED integration with Home Assistant through the WebSocket and HTTP API">
    <link rel="modulepreload" href="/node-red-contrib-home-assistant-websocket/assets/app.3837ac65.js"><link rel="modulepreload" href="/node-red-contrib-home-assistant-websocket/assets/index.html.a19883bf.js"><link rel="modulepreload" href="/node-red-contrib-home-assistant-websocket/assets/index.html.f0822200.js"><link rel="modulepreload" href="/node-red-contrib-home-assistant-websocket/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/node-red-contrib-home-assistant-websocket/assets/style.b9c0201b.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/node-red-contrib-home-assistant-websocket/" class=""><!----><span class="site-name">node-red-contrib-home-assistant-websocket</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a aria-current="page" href="/node-red-contrib-home-assistant-websocket/guide/" class="router-link-active router-link-exact-active router-link-active" aria-label="Guides"><!--[--><!--]--> Guides <!--[--><!--]--></a></div><div class="navbar-item"><a href="/node-red-contrib-home-assistant-websocket/node/" class="" aria-label="Nodes"><!--[--><!--]--> Nodes <!--[--><!--]--></a></div><div class="navbar-item"><a href="/node-red-contrib-home-assistant-websocket/FAQ.md" class="" aria-label="FAQ"><!--[--><!--]--> FAQ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/node-red-contrib-home-assistant-websocket/cookbook/" class="" aria-label="Cookbook"><!--[--><!--]--> Cookbook <!--[--><!--]--></a></div><div class="navbar-item"><a href="/node-red-contrib-home-assistant-websocket/scrubber/" class="" aria-label="Scrubber"><!--[--><!--]--> Scrubber <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/zachowj/node-red-contrib-home-assistant-websocket/discussions" rel="noopener noreferrer" target="_blank" aria-label="Forums"><!--[--><!--]--> Forums <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/zachowj/node-red-contrib-home-assistant-websocket" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a aria-current="page" href="/node-red-contrib-home-assistant-websocket/guide/" class="router-link-active router-link-exact-active router-link-active" aria-label="Guides"><!--[--><!--]--> Guides <!--[--><!--]--></a></div><div class="navbar-item"><a href="/node-red-contrib-home-assistant-websocket/node/" class="" aria-label="Nodes"><!--[--><!--]--> Nodes <!--[--><!--]--></a></div><div class="navbar-item"><a href="/node-red-contrib-home-assistant-websocket/FAQ.md" class="" aria-label="FAQ"><!--[--><!--]--> FAQ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/node-red-contrib-home-assistant-websocket/cookbook/" class="" aria-label="Cookbook"><!--[--><!--]--> Cookbook <!--[--><!--]--></a></div><div class="navbar-item"><a href="/node-red-contrib-home-assistant-websocket/scrubber/" class="" aria-label="Scrubber"><!--[--><!--]--> Scrubber <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/zachowj/node-red-contrib-home-assistant-websocket/discussions" rel="noopener noreferrer" target="_blank" aria-label="Forums"><!--[--><!--]--> Forums <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/zachowj/node-red-contrib-home-assistant-websocket" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">Guides <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/node-red-contrib-home-assistant-websocket/guide/" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Getting Started"><!--[--><!--]--> Getting Started <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/node-red-contrib-home-assistant-websocket/guide/#prerequisites" class="router-link-active router-link-exact-active sidebar-item" aria-label="Prerequisites"><!--[--><!--]--> Prerequisites <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/node-red-contrib-home-assistant-websocket/guide/#installation" class="router-link-active router-link-exact-active sidebar-item" aria-label="Installation"><!--[--><!--]--> Installation <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/node-red-contrib-home-assistant-websocket/guide/#using-the-palette-manager" class="router-link-active router-link-exact-active sidebar-item" aria-label="Using the Palette Manager"><!--[--><!--]--> Using the Palette Manager <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/node-red-contrib-home-assistant-websocket/guide/#using-npm-from-the-command-line" class="router-link-active router-link-exact-active sidebar-item" aria-label="Using npm from the command line"><!--[--><!--]--> Using npm from the command line <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/node-red-contrib-home-assistant-websocket/guide/#home-assistant-add-on" class="router-link-active router-link-exact-active sidebar-item" aria-label="Home Assistant Add-on"><!--[--><!--]--> Home Assistant Add-on <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/node-red-contrib-home-assistant-websocket/guide/#configuration" class="router-link-active router-link-exact-active sidebar-item" aria-label="Configuration"><!--[--><!--]--> Configuration <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/node-red-contrib-home-assistant-websocket/guide/#generate-access-token" class="router-link-active router-link-exact-active sidebar-item" aria-label="Generate Access Token"><!--[--><!--]--> Generate Access Token <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/node-red-contrib-home-assistant-websocket/guide/#migrating" class="router-link-active router-link-exact-active sidebar-item" aria-label="Migrating"><!--[--><!--]--> Migrating <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/node-red-contrib-home-assistant-websocket/guide/first-automation.html" class="sidebar-item" aria-label="First Automation"><!--[--><!--]--> First Automation <!--[--><!--]--></a><!----></li><li><a href="/node-red-contrib-home-assistant-websocket/guide/call-service.html" class="sidebar-item" aria-label="Call Service Tips and Tricks"><!--[--><!--]--> Call Service Tips and Tricks <!--[--><!--]--></a><!----></li><li><a href="/node-red-contrib-home-assistant-websocket/guide/conditionals.html" class="sidebar-item" aria-label="Conditionals"><!--[--><!--]--> Conditionals <!--[--><!--]--></a><!----></li><li><a href="/node-red-contrib-home-assistant-websocket/guide/mustache-templates.html" class="sidebar-item" aria-label="Mustache Templates"><!--[--><!--]--> Mustache Templates <!--[--><!--]--></a><!----></li><li><a href="/node-red-contrib-home-assistant-websocket/guide/jsonata.html" class="sidebar-item" aria-label="JSONata"><!--[--><!--]--> JSONata <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Custom Integration <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/node-red-contrib-home-assistant-websocket/guide/custom_integration/" class="sidebar-item" aria-label="Getting Started"><!--[--><!--]--> Getting Started <!--[--><!--]--></a><!----></li><li><a href="/node-red-contrib-home-assistant-websocket/guide/custom_integration/event-nodes.html" class="sidebar-item" aria-label="Event Nodes"><!--[--><!--]--> Event Nodes <!--[--><!--]--></a><!----></li><li><a href="/node-red-contrib-home-assistant-websocket/guide/custom_integration/switch.html" class="sidebar-item" aria-label="Switch"><!--[--><!--]--> Switch <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Contribute to <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/node-red-contrib-home-assistant-websocket/guide/development.html" class="sidebar-item" aria-label="Development"><!--[--><!--]--> Development <!--[--><!--]--></a><!----></li><li><a href="/node-red-contrib-home-assistant-websocket/guide/documentation.html" class="sidebar-item" aria-label="Documentation"><!--[--><!--]--> Documentation <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="getting-started" tabindex="-1"><a class="header-anchor" href="#getting-started" aria-hidden="true">#</a> Getting Started</h1><h2 id="prerequisites" tabindex="-1"><a class="header-anchor" href="#prerequisites" aria-hidden="true">#</a> Prerequisites</h2><p>Have Node-RED installed and working, if you need to install Node-RED see <a href="https://nodered.org/docs/getting-started/installation" target="_blank" rel="noopener noreferrer">here<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><ul><li><a href="https://nodejs.org" target="_blank" rel="noopener noreferrer">Node.js<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> v12.0 or newer</li><li><a href="https://nodered.org/" target="_blank" rel="noopener noreferrer">Node-RED<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> v1.3 or newer</li><li><a href="https://home-assistant.io" target="_blank" rel="noopener noreferrer">Home Assistant<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> v2021.3.0 or newer</li></ul><h2 id="installation" tabindex="-1"><a class="header-anchor" href="#installation" aria-hidden="true">#</a> Installation</h2><h3 id="using-the-palette-manager" tabindex="-1"><a class="header-anchor" href="#using-the-palette-manager" aria-hidden="true">#</a> Using the Palette Manager</h3><p>Search in the <a href="https://nodered.org/docs/user-guide/editor/palette/manager" target="_blank" rel="noopener noreferrer">Palette Manager<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for:</p><div class="language-text ext-text"><pre class="language-text"><code>node-red-contrib-home-assistant-websocket
</code></pre></div><h3 id="using-npm-from-the-command-line" tabindex="-1"><a class="header-anchor" href="#using-npm-from-the-command-line" aria-hidden="true">#</a> Using npm from the command line</h3><div class="language-bash ext-sh"><pre class="language-bash"><code>$ <span class="token builtin class-name">cd</span> ~/.node-red
$ <span class="token function">npm</span> <span class="token function">install</span> node-red-contrib-home-assistant-websocket
<span class="token comment"># restart Node-RED</span>
</code></pre></div><h3 id="home-assistant-add-on" tabindex="-1"><a class="header-anchor" href="#home-assistant-add-on" aria-hidden="true">#</a> Home Assistant Add-on</h3><p>The Community Home Assistant add-on ships with this set of nodes right out of the box and comes configured to connect to Home Assistant. No other information is needed and you&#39;re ready to start your <a href="/node-red-contrib-home-assistant-websocket/guide/first-automation.html" class="">first automation</a>.</p><p>The add-on can be found here: <a href="https://github.com/hassio-addons/addon-node-red#readme" target="_blank" rel="noopener noreferrer">https://github.com/hassio-addons/addon-node-red#readme<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="configuration" tabindex="-1"><a class="header-anchor" href="#configuration" aria-hidden="true">#</a> Configuration</h2><p>Place an Events: all node onto the workspace and edit the node. Click on the pencil icon next to the Server field.</p><p><img src="data:image/png;base64,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" alt="screenshot"></p><p>Search for a local Home Assistant instance or manually fill in the Base Url.</p><p><img src="/node-red-contrib-home-assistant-websocket/assets/getting-started_03.bdcfeba0.png" alt="screenshot"></p><p>Enter an Access Token on the server config node then Add/Update the Server Config and Events: all nodes and deploy. After deploying a green box with a status message, i.e. connected, stated_changed, should appear below the Events: all node. If you see an open box with the status of connecting or disconnected you probably have incorrectly entered the base URL or access token.</p><ul><li><p><strong>Base Url</strong> is the web address and port you use to access the Home Assistant frontend (e.g., http://localhost:8123, http://192.198.x.x, and http://example.duckdns.org).</p></li><li><p><strong>Access Token</strong> is generated in Home Assistant there are <a href="#generate-access-token">instructions below</a> on how to generate one.</p></li></ul><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Changing the deploy type to Modified Flows or Modified Nodes will make it so when you deploy only the flows that you have modified will get reloaded. This helps if you have other flows on the workspace that you don&#39;t want to have reloaded everything time you change something else.</p><p><img src="/node-red-contrib-home-assistant-websocket/assets/getting_started_02.85cd2907.png" alt="screenshot"></p></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>If you find that new entities added to Home Assistant are not showing up in the autocomplete results try unchecking <code>Cache Autocomplete Results</code> in the server config and restarting Node-RED.</p></div><h3 id="generate-access-token" tabindex="-1"><a class="header-anchor" href="#generate-access-token" aria-hidden="true">#</a> Generate Access Token</h3><div class="custom-container danger"><p class="custom-container-title">WARNING</p><p>The user used to create the access token must be in the administrator group for this package to function correctly.</p></div><p>Goto your Home Assistant home page and in the bottom left corner click on the blue circle with the letter in it. In the screenshot below it&#39;s the &quot;J&quot;.</p><p><img src="/node-red-contrib-home-assistant-websocket/assets/generate-token_01.73c664cf.png" alt="screenshot"></p><ul><li>Scroll down to the bottom of the page and it should look like the screenshot below and click on the Create Token Button</li><li>Give it a name, it can be anything you want to identify it</li><li>Copy the generated access token into Node-RED</li></ul><p><img src="/node-red-contrib-home-assistant-websocket/assets/generate-token_02.bfe11c2b.png" alt="screenshot"></p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Creating a separate Home Assistant user for Node-RED and using their access token will give you the ability to track which entities were changed by Node-RED.</p></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Once you&#39;ve configured the WebSocket connection using the <code>Events: all</code> node, this node should be removed for optimal NodeRed performance. Instead, prefer using the other node types provided by this package (<code>Events: state</code>, <code>Trigger: state</code> etc), or add an event type filter to the <code>Events: all</code> node to avoid overloading the websocket message queue.</p></div><h2 id="migrating" tabindex="-1"><a class="header-anchor" href="#migrating" aria-hidden="true">#</a> Migrating</h2><p>Coming from a different version, e.g. <a href="https://github.com/AYapejian/node-red-contrib-home-assistant" target="_blank" rel="noopener noreferrer">node-red-contrib-home-assistant<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> or <a href="https://github.com/Spartan-II-117/node-red-contrib-home-assistant-llat" target="_blank" rel="noopener noreferrer">node-red-contrib-home-assistant-llat<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>?</p><p>If you have been using <a href="https://github.com/AYapejian/node-red-contrib-home-assistant" target="_blank" rel="noopener noreferrer">node-red-contrib-home-assistant<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> version there are some breaking changes with two of the nodes. The <a href="/node/poll-state.md" target="_blank" rel="noopener noreferrer">poll state<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> and <a href="/node/current-state.md" target="_blank" rel="noopener noreferrer">current state<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> both have a little different formatted outputs. Check your nodes and make sure they are outputting what you expect. A more in-depth example can be found <a href="/node-red-contrib-home-assistant-websocket/guide/migration.html" class="">here</a>.</p><p>If you have been using the <a href="https://github.com/Spartan-II-117/node-red-contrib-home-assistant-llat" target="_blank" rel="noopener noreferrer">node-red-contrib-home-assistant-llat<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> fork this should be a drop-in replacement.</p><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/zachowj/node-red-contrib-home-assistant-websocket/edit/main/docs/guide/README.md" rel="noopener noreferrer" target="_blank" aria-label="Help us improve this page!"><!--[--><!--]--> Help us improve this page! <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 37859597+zachowj@users.noreply.github.com">Jason</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: jameswr@google.com">James Wright</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/node-red-contrib-home-assistant-websocket/guide/first-automation.html" class="" aria-label="First Automation"><!--[--><!--]--> First Automation <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/node-red-contrib-home-assistant-websocket/assets/app.3837ac65.js" defer></script>
  </body>
</html>
